/******/ var __webpack_modules__ = ({

/***/ "./src/chat-template.html":
/*!********************************!*\
  !*** ./src/chat-template.html ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Module
var code = "<div id=\"no-brainer-chat\">\n\t<style>\n\t\t/* bottom left icon */\n\t\t:root {\n\t\t\t--no-brainer-font: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n\t\t\t--no-brainer-chat-opener-bg-color: #202123;\n\t\t\t--no-brainer-chat-opener-fill-color: #413e50;\n\t\t\t--no-brainer-chat-bg-color: #343541;\n\t\t\t--no-brainer-chat-text-color: #fff;\n\t\t\t--no-brainer-chat-textarea-bg-color: #514f60;\n\t\t\t--no-brainer-chat-header-bg-color: #202123;\n\t\t\t--no-brainer-chat-buttons-bg-color: #473f56;\n\t\t\t--no-brainer-chat-textarea-color: #fff;\n\t\t\t--no-brainer-chat-loader-color: #9880ff;\n\t\t}\n\n\t\t#no-brainer-chat {\n\t\t\tfont-family: var(--no-brainer-font);\n\t\t}\n\n\t\t.no-brainer-open-chat {\n\t\t\tbackground-color: var(--no-brainer-chat-opener-bg-color);\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 50%;\n\t\t\tposition: fixed;\n\t\t\tbottom: 20px;\n\t\t\tleft: 20px;\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tz-index: 10000;\n\t\t\ttransform: scale(0);\n\t\t\ttransform-origin: left bottom;\n\t\t\ttransition: transform 0.3s ease-in-out;\n\t\t}\n\n\t\t.no-brainer-open-chat svg {\n\t\t\tfill: var(--no-brainer-chat-opener-fill-color);\n\t\t}\n\n\t\t.no-brainer-open-chat.show {\n\t\t\ttransform: scale(1);\n\t\t}\n\n\t\t.no-brainer-open-chat:hover {\n\t\t\tcursor: pointer;\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t.no-brainer-open-chat.has-new-message {\n\t\t\tanimation: red-ring 1s infinite;\n\t\t}\n\n\t\t@keyframes red-ring {\n\t\t\t0% {\n\t\t\t\tbox-shadow: 0 0 0 0 rgba(255, 0, 0, 0.4);\n\t\t\t}\n\t\t\t70% {\n\t\t\t\tbox-shadow: 0 0 0 10px rgba(255, 0, 0, 0);\n\n\t\t\t}\n\t\t\t100% {\n\t\t\t\tbox-shadow: 0 0 0 0 rgba(255, 0, 0, 0);\n\t\t\t}\n\t\t}\n\n\n\t\t/* chat header */\n\t\t.chat-container {\n\t\t\tposition: fixed;\n\t\t\tbottom: 10px;\n\t\t\tleft: 10px;\n\t\t\tmax-width: 350px;\n\t\t\twidth: 100%;\n\t\t\tz-index: 10000;\n\t\t\ttransform: scale(0);\n\t\t\ttransform-origin: left bottom;\n\t\t\tbackground-color: rgba(69, 67, 85, 0.59);\n\t\t\tbox-shadow: 2px 2px 10px 2px rgba(0, 0, 0, 0.1);\n\t\t\tborder-radius: 10px;\n\t\t\ttransition: transform 0.3s ease-in-out;\n\t\t}\n\n\t\t.chat-container.show {\n\t\t\tanimation: scaleIn .15s ease-in-out 0s 1 normal forwards;\n\t\t\ttransform-origin: bottom left;\n\t\t\ttransform: scale(1);\n\t\t}\n\n\t\t.chat-header {\n\t\t\tborder-radius: 10px 10px 0 0;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tbackground-color: var(--no-brainer-chat-header-bg-color);\n\t\t\tcolor: lightgray;\n\t\t}\n\n\t\t.agent-title {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.chat-agent-avatar {\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin: 10px;\n\t\t}\n\n\t\t.close-svg {\n\t\t\tstroke: var(--no-brainer-chat-text-color);\n\t\t}\n\n\t\t.close-chat {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tmargin-right: 10px;\n\t\t\tbackground-color: var(--no-brainer-chat-buttons-bg-color);\n\n\t\t\tborder-radius: 50%;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t.chat-area {\n\t\t\theight: 300px;\n\t\t\tpadding: 1em 1em 0;\n\t\t\toverflow: auto;\n\t\t\tbackground-color: var(--no-brainer-chat-bg-color);\n\t\t\tposition: relative;\n\t\t}\n\n\t\t.chat-input {\n\t\t\tborder-radius: 0 0 3px 3px;\n\t\t\tpadding: 1em;\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\n\t\t.chat-form {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.chat-form textarea {\n\t\t\tflex: 1;\n\t\t\tresize: none;\n\t\t}\n\n\t\ttextarea:active, textarea:focus {\n\t\t\toutline: none;\n\t\t}\n\n\t\t.chat-form #chat-widget-submit {\n\t\t\tbackground-color: #454355;\n\t\t\tborder: none;\n\t\t\tcolor: var(--no-brainer-chat-text-color);\n\t\t\tpadding: 1em;\n\t\t\tmargin: 0;\n\t\t}\n\n\t\t.chat-form #chat-widget-submit:hover {\n\t\t\tbackground-color: #5a5a6b;\n\t\t}\n\n\t\t.chat-form #chat-widget-submit:active {\n\t\t\tbackground-color: #454355;\n\t\t}\n\n\t\t.chat-form #chat-widget-submit:focus {\n\t\t\toutline: none;\n\t\t}\n\n\t\t/* char area */\n\t\t.chat-area {\n\t\t\theight: 300px;\n\t\t\tpadding: 1em 1em 0;\n\t\t\toverflow: auto;\n\t\t\tbackground-color: var(--no-brainer-chat-bg-color);\n\t\t\tposition: relative;\n\t\t}\n\n\t\t/* chat input */\n\t\t.chat-input {\n\t\t\tborder-radius: 0 0 3px 3px;\n\t\t\tpadding: 1em;\n\t\t\tbackground-color: var(--no-brainer-chat-bg-color);\n\t\t}\n\n\t\t.chat-form {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.chat-form textarea {\n\t\t\tflex: 1;\n\t\t\tbackground-color: var(--no-brainer-chat-textarea-bg-color);\n\t\t\tcolor: var(--no-brainer-chat-textarea-color);\n\t\t\tborder-radius: 3px 0 0 3px;\n\t\t}\n\n\t\ttextarea:active, textarea:focus {\n\t\t\toutline: none;\n\t\t}\n\n\t\t.chat-form button {\n\t\t\tbackground-color: #454355;\n\t\t\tborder: none;\n\t\t\tcolor: white;\n\t\t\tpadding: 1em;\n\t\t\tborder-radius: 0 3px 3px 0;\n\t\t}\n\n\t\t.chat-form button:hover {\n\t\t\tbackground-color: #5a5a6b;\n\t\t}\n\n\t\t.chat-form button:active {\n\t\t\tbackground-color: #454355;\n\t\t}\n\n\t\t.chat-form button:focus {\n\t\t\toutline: none;\n\t\t}\n\n\t\t/* loader */\n\t\t.dot-elastic {\n\t\t\twidth: 10px;\n\t\t\theight: 10px;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: var(--no-brainer-chat-loader-color);\n\t\t\tleft: 30px;\n\t\t\tposition: absolute;\n\t\t\tanimation: dot-elastic 1s infinite ease-in-out;\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.dot-elastic.show {\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.dot-elastic:before, .dot-elastic:after {\n\t\t\tcontent: \"\";\n\t\t\tposition: absolute;\n\t\t\tdisplay: inline-block;\n\t\t\ttop: 0;\n\t\t\theight: 10px;\n\t\t\twidth: 10px;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: #9880ff;\n\t\t\tanimation: dot-elastic 1s infinite ease-in-out;\n\t\t}\n\n\t\t.dot-elastic:before {\n\t\t\tleft: -15px;\n\t\t\tanimation-delay: -0.5s;\n\t\t}\n\n\t\t.dot-elastic:after {\n\t\t\tleft: 15px;\n\t\t\tanimation-delay: 0.5s;\n\t\t}\n\n\t\t@keyframes dot-elastic {\n\t\t\t0% {\n\t\t\t\ttransform: scale(1, 1);\n\t\t\t}\n\t\t\t25% {\n\t\t\t\ttransform: scale(1, 1);\n\t\t\t}\n\t\t\t50% {\n\t\t\t\ttransform: scale(1, 1.5);\n\t\t\t}\n\t\t\t75% {\n\t\t\t\ttransform: scale(1, 1);\n\t\t\t}\n\t\t\t100% {\n\t\t\t\ttransform: scale(1, 1);\n\t\t\t}\n\t\t}\n\n\t\t/* chat history */\n\t\t.message-history {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.message {\n\t\t\twidth: fit-content;\n\t\t\tcolor: white;\n\t\t\tborder-radius: 10px 10px 0 10px;\n\t\t\tpadding: .5em;\n\t\t\twhite-space: pre-wrap;\n\t\t\tbackground: var(--no-brainer-chat-textarea-bg-color);\n\t\t}\n\n\t\t.message-out {\n\t\t\talign-self: end;\n\t\t\tborder-radius: 10px 10px 0 10px;\n\t\t}\n\n\t\t.message-in {\n\t\t\talign-self: start;\n\t\t\tborder-radius: 10px 10px 10px 0;\n\t\t}\n\n\t\t.no-brainer-feedback.warning {\n\t\t\tcolor: #ff9f43;\n\t\t}\n\n\t\t.no-brainer-feedback.error {\n\t\t\tcolor: #ff3860;\n\t\t}\n\n\t\t#no-brainer-chat-scroll {\n\t\t\t/*adjust the scroll bar width and style*/\n\t\t\tscrollbar-width: thin;\n\t\t\tscrollbar-color: var(--no-brainer-chat-header-bg-color) var(--no-brainer-chat-bg-color);\n\t\t}\n\n\t\t#no-brainer-chat-scroll::-webkit-scrollbar {\n\t\t\twidth: 10px;\n\t\t}\n\n\t\t#no-brainer-chat-scroll::-webkit-scrollbar-thumb {\n\t\t\tbackground-color: var(--no-brainer-chat-header-bg-color);\n\t\t\tborder-radius: 20px;\n\t\t\tborder: 3px solid var(--no-brainer-chat-header-bg-color);\n\t\t}\n\n\t\t#no-brainer-chat-scroll::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground-color: var(--no-brainer-chat-bg-color);\n\t\t}\n\n\t</style>\n\t<div class=\"no-brainer-open-chat show\" id=\"no-brainer-chat-opener\">\n\t\t<div>\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\">\n\t\t\t\t<path stroke=\"white\" stroke-width=\"30px\"\n\t\t\t\t\t  d=\"M899.3 171.4l-1.7 294.8s-4.9 159.7-176.2 159.7H481L373.9 736.3l176.2 1.6 242.1 250.3 8.3-256.9s189.4 13.2 189.4-154.8V327.8s8.2-100.3-90.6-156.4zM690.1 584.8c87.3 0 158.1-70.8 158.1-158.1V169.8c0-87.3-70.8-158.1-158.1-158.1h-522C80.8 11.7 10 82.5 10 169.8v256.9c0 87.3 70.8 158.1 158.1 158.1h13.3l1.6 233.9 261.2-233.9h245.9z\"/>\n\t\t\t</svg>\n\t\t</div>\n\t</div>\n\t<div id=\"no-brainer-chat-container\" class=\"chat-container\">\n\t\t<div class=\"chat-window\">\n\t\t\t<div class=\"chat-header\">\n\t\t\t\t<div class=\"agent-title\">\n\t\t\t\t\t<img alt=\"avatar\"\n\t\t\t\t\t\t src=\"https://robohash.org/stefan-three\"\n\t\t\t\t\t\t class=\"chat-agent-avatar\">\n\t\t\t\t\t<h3 id=\"no-brainer-chat-agent-name\" class=\"headline pl-4 m-0\">Support</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"close-chat\" id=\"no-brainer-chat-closer\">\n\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"0.4\"\n\t\t\t\t\t\t class=\"close-svg\">\n\t\t\t\t\t\t<path fill=\"black\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"chat-area\" id=\"no-brainer-chat-scroll\">\n\t\t\t\t<div id=\"chat-widget-message-container\" class=\"message-history\">\n\t\t\t\t\t<template id=\"chat-widget-message-template\">\n\t\t\t\t\t\t<p class=\"message message-out\"></p>\n\t\t\t\t\t</template>\n\t\t\t\t\t<div id=\"chat-widget-message-history\" class=\"message-history\"></div>\n\n\t\t\t\t\t<div class=\"no-brainer-feedback error\" id=\"no-brainer-feedback\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id=\"no-brainer-chat-loader\" class=\"dot-elastic\"></div>\n\t\t\t<div class=\"chat-input\">\n\t\t\t\t<form class=\"chat-form\">\n\t\t\t\t\t<label for=\"chat-widget-text-area\"></label>\n\t\t\t\t\t<textarea id=\"chat-widget-text-area\" style=\"width: 100%;border: none; padding: 5px\"></textarea>\n\t\t\t\t\t<button id=\"chat-widget-submit\" class=\"submit\" type=\"button\">\n\t\t\t\t\t\t<svg style=\"width: 20px; height: 20px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t  d=\"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n";
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!***************************!*\
  !*** ./src/ChatWidget.ts ***!
  \***************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ChatWidget)
/* harmony export */ });
/* harmony import */ var _chat_template_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat-template.html */ "./src/chat-template.html");

const defaultOptions = {
    /**
     * This function is called when the user submits a message,
     * it should return a promise that resolves with the answer
     */
    answer: (message) => new Promise((resolve) => setTimeout(() => resolve('God does not play dice with the universe.'), 3000)),
    /**
     * This function is called when the user submits a message,
     * if it returns an array of errors, the errors will be displayed to the user,
     */
    validate: (message) => {
        const errors = [];
        if (message.length < 3) {
            errors.push('Message must be at least 3 characters long');
        }
        if (message.length > 512) {
            errors.push('Message must be at most 1000 characters long');
        }
        return errors;
    },
    /**
     * This function is called when the user presses a key in the textarea field
     * if it returns an array of warnings, the warnings will be displayed to the user
     * @param message
     */
    onInput: (message) => {
        // check if message includes select, insert, update, delete, drop, truncate, alter, create, or grant
        const sqlInjectionRegex = /select|insert|update|delete|drop|truncate|alter|create|grant/i;
        const warnings = [];
        if (sqlInjectionRegex.test(message)) {
            warnings.push('SQL Injection detected');
        }
        return warnings;
    },
    /**
     * This will be displayed on the chat header
     */
    agentName: 'Support',
    /**
     * This will be displayed as the avatar of the agent on the chat header
     */
    agentAvatarUrl: 'https://code-for-me.com/build/images/logo-code-md.svg',
    /**
     * The styles of the chat widget
     * all other styles can be changed by redefining the css classes
     */
    styles: {
        openerBgColor: '#202123',
        openerFillColor: '#413e50',
        chatBgColor: '#343541',
        chatTextColor: '#fff',
        chatTextareaBgColor: '#514f60',
        chatHeaderBgColor: '#202123',
        chatButtonsBgColor: '#473f56',
        chatTextareaColor: '#fff',
        loaderColor: '#9880ff',
        fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif',
    }
};
/**
 * No Brainer Chat Widget
 * A simple chat widget that works out of the box
 */
class ChatWidget {
    constructor(options = defaultOptions) {
        this.history = [];
        this.options = Object.assign(Object.assign({}, defaultOptions), options);
        if ('styles' in options) {
            this.options.styles = Object.assign(Object.assign({}, defaultOptions.styles), options.styles);
        }
        document.body.appendChild(this.createChatWidget());
        this.collectElements();
        this.setProperties();
        this.bindEvents();
    }
    static create(options = defaultOptions) {
        return new ChatWidget(options);
    }
    destroy() {
        this.outerContainer.remove();
    }
    /**
     * Used to send a message to the user.
     * you can use this or the answer function is fired when the user submits a message
     */
    sendToUser(message) {
        this.loader.classList.remove('show');
        if (!this.isChatOpen()) {
            this.chatOpener.classList.add('has-new-message');
        }
        this.addMessage(message, this.options.agentName);
        return this;
    }
    show() {
        this.chatOpener.classList.remove('show');
        this.chatContainer.classList.add('show');
        this.chatOpener.classList.remove('has-new-message');
        this.textArea.focus();
        return this;
    }
    hide() {
        this.chatOpener.classList.add('show');
        this.chatContainer.classList.remove('show');
        return this;
    }
    send(event) {
        const warnings = this.options.onInput(this.textArea.value);
        if (warnings.length > 0) {
            this.feedbackEl.innerHTML = warnings.join('<br>');
            this.feedbackEl.classList.add('warning');
            this.feedbackEl.classList.remove('error');
            this.chatScrollEl.scrollTop = this.chatScrollEl.scrollHeight;
            return;
        }
        if (event.type === 'keydown' && event.key !== 'Enter') {
            return;
        }
        if (event.type === 'keydown' && event.shiftKey) {
            return;
        }
        this.loader.classList.add('show');
        event.preventDefault();
        const message = this.textArea.value;
        this.textArea.value = '';
        const errors = this.options.validate(message);
        if (errors.length > 0) {
            this.loader.classList.remove('show');
            this.feedbackEl.classList.remove('warning');
            this.feedbackEl.innerHTML = errors.join('<br>');
            this.feedbackEl.classList.add('error');
            this.textArea.value = message;
            this.chatScrollEl.scrollTop = this.chatScrollEl.scrollHeight;
            return;
        }
        this.feedbackEl.innerHTML = '';
        this.feedbackEl.classList.remove('error');
        this.feedbackEl.classList.remove('warning');
        this.addMessage(message, 'user');
        this.options.answer(message).then((answer) => {
            this.addMessage(answer, this.options.agentName);
            this.loader.classList.remove('show');
            if (!this.isChatOpen()) {
                this.chatOpener.classList.add('has-new-message');
            }
        });
    }
    createChatWidget() {
        const chatWidget = document.createElement('div');
        chatWidget.innerHTML = _chat_template_html__WEBPACK_IMPORTED_MODULE_0__["default"];
        return chatWidget;
    }
    collectElements() {
        const container = this.outerContainer = document.getElementById('no-brainer-chat');
        this.chatOpener = container.querySelector('#no-brainer-chat-opener');
        this.chatAgentNameEl = container.querySelector('#no-brainer-chat-agent-name');
        this.chatClose = container.querySelector('#no-brainer-chat-closer');
        this.chatContainer = container.querySelector('#no-brainer-chat-container');
        this.textArea = container.querySelector('#chat-widget-text-area');
        this.submitButton = container.querySelector('#chat-widget-submit');
        this.messageTemplate = container.querySelector('#chat-widget-message-template');
        this.messageHistory = container.querySelector('#chat-widget-message-history');
        this.loader = container.querySelector('#no-brainer-chat-loader');
        this.feedbackEl = container.querySelector('#no-brainer-feedback');
        this.chatScrollEl = container.querySelector('#no-brainer-chat-scroll');
    }
    bindEvents() {
        this.submitButton.addEventListener('click', this.send.bind(this));
        this.textArea.addEventListener('keydown', this.send.bind(this));
        this.chatOpener.addEventListener('click', (event) => {
            this.chatOpener.classList.remove('has-new-message');
            this.chatOpener.classList.remove('show');
            this.chatContainer.classList.add('show');
            this.textArea.focus();
        });
        this.chatClose.addEventListener('click', (event) => {
            this.chatOpener.classList.add('show');
            this.chatContainer.classList.remove('show');
        });
    }
    addMessage(message, user) {
        this.history.push({
            body: message,
            timestamp: new Date(),
            author: user
        });
        const messageTemplate = this.messageTemplate.cloneNode(true);
        const messageBody = messageTemplate.content.querySelector('p');
        if (user === 'user') {
            messageBody.classList.add('message-out');
        }
        else {
            messageBody.classList.add('message-in');
        }
        messageBody.innerHTML = message;
        this.messageHistory.appendChild(messageTemplate.content);
        this.chatScrollEl.scrollTop = this.chatScrollEl.scrollHeight;
    }
    isChatOpen() {
        return this.chatContainer.classList.contains('show');
    }
    setProperties() {
        var _a;
        const styles = this.options.styles;
        this.outerContainer.style.setProperty('--no-brainer-chat-opener-bg-color', styles.openerBgColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-opener-fill-color', styles.openerFillColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-bg-color', styles.chatBgColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-text-color', styles.chatTextColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-textarea-bg-color', styles.chatTextareaBgColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-header-bg-color', styles.chatHeaderBgColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-buttons-bg-color', styles.chatButtonsBgColor);
        this.outerContainer.style.setProperty('--no-brainer-chat-textarea-color', styles.chatTextareaColor);
        this.outerContainer.style.setProperty('--no-brainer-font', styles.fontFamily);
        (_a = this.outerContainer.querySelector('img')) === null || _a === void 0 ? void 0 : _a.setAttribute('src', this.options.agentAvatarUrl);
        this.chatAgentNameEl.innerHTML = this.options.agentName;
    }
}

})();

var __webpack_exports__default = __webpack_exports__["default"];
export { __webpack_exports__default as default };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSw0RkFBNEYsd0tBQXdLLG1EQUFtRCxxREFBcUQsNENBQTRDLDJDQUEyQyxxREFBcUQsbURBQW1ELG9EQUFvRCwrQ0FBK0MsZ0RBQWdELE9BQU8sMEJBQTBCLDRDQUE0QyxPQUFPLCtCQUErQixpRUFBaUUsc0JBQXNCLDJCQUEyQix3QkFBd0IscUJBQXFCLG1CQUFtQixvQkFBb0IscUJBQXFCLHVCQUF1Qiw0QkFBNEIsc0NBQXNDLCtDQUErQyxPQUFPLG1DQUFtQyx1REFBdUQsT0FBTyxvQ0FBb0MsNEJBQTRCLE9BQU8scUNBQXFDLHdCQUF3QixxQkFBcUIsT0FBTywrQ0FBK0Msd0NBQXdDLE9BQU8sNkJBQTZCLFlBQVksbURBQW1ELFNBQVMsYUFBYSxvREFBb0QsV0FBVyxjQUFjLGlEQUFpRCxTQUFTLE9BQU8sa0RBQWtELHdCQUF3QixxQkFBcUIsbUJBQW1CLHlCQUF5QixvQkFBb0IsdUJBQXVCLDRCQUE0QixzQ0FBc0MsaURBQWlELHdEQUF3RCw0QkFBNEIsK0NBQStDLE9BQU8sOEJBQThCLGlFQUFpRSxzQ0FBc0MsNEJBQTRCLE9BQU8sc0JBQXNCLHFDQUFxQyxzQkFBc0IsNEJBQTRCLHVDQUF1QyxpRUFBaUUseUJBQXlCLE9BQU8sc0JBQXNCLHNCQUFzQiw0QkFBNEIsT0FBTyw0QkFBNEIsb0JBQW9CLHFCQUFxQiwyQkFBMkIscUJBQXFCLE9BQU8sb0JBQW9CLGtEQUFrRCxPQUFPLHFCQUFxQixvQkFBb0IscUJBQXFCLDJCQUEyQixrRUFBa0UsNkJBQTZCLHdCQUF3QixPQUFPLG9CQUFvQixzQkFBc0IsMkJBQTJCLHVCQUF1QiwwREFBMEQsMkJBQTJCLE9BQU8scUJBQXFCLG1DQUFtQyxxQkFBcUIsa0NBQWtDLE9BQU8sb0JBQW9CLHNCQUFzQixPQUFPLDZCQUE2QixnQkFBZ0IscUJBQXFCLE9BQU8seUNBQXlDLHNCQUFzQixPQUFPLHdDQUF3QyxrQ0FBa0MscUJBQXFCLGlEQUFpRCxxQkFBcUIsa0JBQWtCLE9BQU8sOENBQThDLGtDQUFrQyxPQUFPLCtDQUErQyxrQ0FBa0MsT0FBTyw4Q0FBOEMsc0JBQXNCLE9BQU8seUNBQXlDLHNCQUFzQiwyQkFBMkIsdUJBQXVCLDBEQUEwRCwyQkFBMkIsT0FBTywyQ0FBMkMsbUNBQW1DLHFCQUFxQiwwREFBMEQsT0FBTyxvQkFBb0Isc0JBQXNCLE9BQU8sNkJBQTZCLGdCQUFnQixtRUFBbUUscURBQXFELG1DQUFtQyxPQUFPLHlDQUF5QyxzQkFBc0IsT0FBTywyQkFBMkIsa0NBQWtDLHFCQUFxQixxQkFBcUIscUJBQXFCLG1DQUFtQyxPQUFPLGlDQUFpQyxrQ0FBa0MsT0FBTyxrQ0FBa0Msa0NBQWtDLE9BQU8saUNBQWlDLHNCQUFzQixPQUFPLHdDQUF3QyxvQkFBb0IscUJBQXFCLDJCQUEyQiw4REFBOEQsbUJBQW1CLDJCQUEyQix1REFBdUQsc0JBQXNCLE9BQU8sMkJBQTJCLHVCQUF1QixPQUFPLGlEQUFpRCxzQkFBc0IsMkJBQTJCLDhCQUE4QixlQUFlLHFCQUFxQixvQkFBb0IsMkJBQTJCLGtDQUFrQyx1REFBdUQsT0FBTyw2QkFBNkIsb0JBQW9CLCtCQUErQixPQUFPLDRCQUE0QixtQkFBbUIsOEJBQThCLE9BQU8sZ0NBQWdDLFlBQVksaUNBQWlDLFNBQVMsYUFBYSxpQ0FBaUMsU0FBUyxhQUFhLG1DQUFtQyxTQUFTLGFBQWEsaUNBQWlDLFNBQVMsY0FBYyxpQ0FBaUMsU0FBUyxPQUFPLGtEQUFrRCxzQkFBc0IsK0JBQStCLE9BQU8sa0JBQWtCLDJCQUEyQixxQkFBcUIsd0NBQXdDLHNCQUFzQiw4QkFBOEIsNkRBQTZELE9BQU8sc0JBQXNCLHdCQUF3Qix3Q0FBd0MsT0FBTyxxQkFBcUIsMEJBQTBCLHdDQUF3QyxPQUFPLHNDQUFzQyx1QkFBdUIsT0FBTyxvQ0FBb0MsdUJBQXVCLE9BQU8saUNBQWlDLCtFQUErRSxnR0FBZ0csT0FBTyxvREFBb0Qsb0JBQW9CLE9BQU8sMERBQTBELGlFQUFpRSw0QkFBNEIsaUVBQWlFLE9BQU8sZ0VBQWdFLDBEQUEwRCxPQUFPLDRsRUFBNGxFLGNBQWMsaUpBQWlKO0FBQ2hxVDtBQUNBLGlFQUFlLElBQUk7Ozs7OztTQ0huQjtTQUNBOztTQUVBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBO1NBQ0E7U0FDQTtTQUNBOztTQUVBO1NBQ0E7O1NBRUE7U0FDQTtTQUNBOzs7OztVQ3RCQTtVQUNBO1VBQ0E7VUFDQTtVQUNBLHlDQUF5Qyx3Q0FBd0M7VUFDakY7VUFDQTtVQUNBOzs7OztVQ1BBOzs7OztVQ0FBO1VBQ0E7VUFDQTtVQUNBLHVEQUF1RCxpQkFBaUI7VUFDeEU7VUFDQSxnREFBZ0QsYUFBYTtVQUM3RDs7Ozs7Ozs7Ozs7Ozs7O0FDTmdEO0FBOEJoRCxNQUFNLGNBQWMsR0FBc0I7SUFFdEM7OztPQUdHO0lBQ0gsTUFBTSxFQUFFLENBQUUsT0FBZSxFQUFHLEVBQUUsQ0FBQyxJQUFJLE9BQU8sQ0FBRSxDQUFFLE9BQU8sRUFBRyxFQUFFLENBQ3RELFVBQVUsQ0FBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUUsMkNBQTJDLENBQUUsRUFBRSxJQUFJLENBQUUsQ0FBRTtJQUV0Rjs7O09BR0c7SUFDSCxRQUFRLEVBQUUsQ0FBRSxPQUFlLEVBQUcsRUFBRTtRQUM1QixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRztZQUN0QixNQUFNLENBQUMsSUFBSSxDQUFFLDRDQUE0QyxDQUFFLENBQUM7U0FDL0Q7UUFFRCxJQUFLLE9BQU8sQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFHO1lBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUUsOENBQThDLENBQUUsQ0FBQztTQUNqRTtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0gsT0FBTyxFQUFFLENBQUUsT0FBZSxFQUFHLEVBQUU7UUFDM0Isb0dBQW9HO1FBQ3BHLE1BQU0saUJBQWlCLEdBQUcsK0RBQStELENBQUM7UUFDMUYsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUssaUJBQWlCLENBQUMsSUFBSSxDQUFFLE9BQU8sQ0FBRSxFQUFHO1lBQ3JDLFFBQVEsQ0FBQyxJQUFJLENBQUUsd0JBQXdCLENBQUUsQ0FBQztTQUM3QztRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVMsRUFBRSxTQUFTO0lBRXBCOztPQUVHO0lBQ0gsY0FBYyxFQUFFLHVEQUF1RDtJQUV2RTs7O09BR0c7SUFDSCxNQUFNLEVBQUU7UUFDSixhQUFhLEVBQUUsU0FBUztRQUN4QixlQUFlLEVBQUUsU0FBUztRQUMxQixXQUFXLEVBQUUsU0FBUztRQUN0QixhQUFhLEVBQUUsTUFBTTtRQUNyQixtQkFBbUIsRUFBRSxTQUFTO1FBQzlCLGlCQUFpQixFQUFFLFNBQVM7UUFDNUIsa0JBQWtCLEVBQUUsU0FBUztRQUM3QixpQkFBaUIsRUFBRSxNQUFNO1FBQ3pCLFdBQVcsRUFBRSxTQUFTO1FBQ3RCLFVBQVUsRUFBRSx3SUFBd0k7S0FDdko7Q0FDSixDQUFDO0FBRUY7OztHQUdHO0FBQ1ksTUFBTSxVQUFVO0lBaUIzQixZQUFhLFVBQWtDLGNBQWM7UUFickQsWUFBTyxHQUEwQixFQUFFLENBQUM7UUFjeEMsSUFBSSxDQUFDLE9BQU8sbUNBQVEsY0FBYyxHQUFLLE9BQU8sQ0FBRSxDQUFDO1FBQ2pELElBQUssUUFBUSxJQUFJLE9BQU8sRUFBRztZQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sbUNBQVEsY0FBYyxDQUFDLE1BQU0sR0FBSyxPQUFPLENBQUMsTUFBTSxDQUFFLENBQUM7U0FDekU7UUFFRCxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBRSxDQUFDO1FBQ3JELElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFFLFVBQWtDLGNBQWM7UUFDM0QsT0FBTyxJQUFJLFVBQVUsQ0FBRSxPQUFPLENBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsT0FBTztRQUNILElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7T0FHRztJQUNILFVBQVUsQ0FBRSxPQUFlO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUN2QyxJQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFHO1lBQ3RCLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxpQkFBaUIsQ0FBRSxDQUFDO1NBQ3REO1FBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUUsQ0FBQztRQUNuRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSTtRQUNBLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUMzQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFFLGlCQUFpQixDQUFFLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSTtRQUNBLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDOUMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELElBQUksQ0FBRSxLQUFZO1FBRWQsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUUsQ0FBQztRQUM3RCxJQUFLLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFHO1lBQ3ZCLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUUsTUFBTSxDQUFFLENBQUM7WUFDcEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFFLFNBQVMsQ0FBRSxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBRSxPQUFPLENBQUUsQ0FBQztZQUM1QyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQztZQUM3RCxPQUFPO1NBQ1Y7UUFFRCxJQUFLLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFNLEtBQXdCLENBQUMsR0FBRyxLQUFLLE9BQU8sRUFBRztZQUMxRSxPQUFPO1NBQ1Y7UUFFRCxJQUFLLEtBQUssQ0FBQyxJQUFJLEtBQUssU0FBUyxJQUFNLEtBQXdCLENBQUMsUUFBUSxFQUFHO1lBQ25FLE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUVwQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdkIsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDcEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBRXpCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFFLE9BQU8sQ0FBRSxDQUFDO1FBQ2hELElBQUssTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUc7WUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFFLE1BQU0sQ0FBRSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsQ0FBQztZQUM5QyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFFLE1BQU0sQ0FBRSxDQUFDO1lBQ2xELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxPQUFPLENBQUUsQ0FBQztZQUN6QyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUM7WUFDOUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUM7WUFDN0QsT0FBTztTQUNWO1FBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBRSxPQUFPLENBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsU0FBUyxDQUFFLENBQUM7UUFFOUMsSUFBSSxDQUFDLFVBQVUsQ0FBRSxPQUFPLEVBQUUsTUFBTSxDQUFFLENBQUM7UUFFbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUUsT0FBTyxDQUFFLENBQUMsSUFBSSxDQUFFLENBQUUsTUFBYyxFQUFHLEVBQUU7WUFDdEQsSUFBSSxDQUFDLFVBQVUsQ0FBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUUsQ0FBQztZQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLENBQUM7WUFDdkMsSUFBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsRUFBRztnQkFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFFLGlCQUFpQixDQUFFLENBQUM7YUFDdEQ7UUFDTCxDQUFDLENBQUUsQ0FBQztJQUNSLENBQUM7SUFFTyxnQkFBZ0I7UUFDcEIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBRSxLQUFLLENBQUUsQ0FBQztRQUNuRCxVQUFVLENBQUMsU0FBUyxHQUFHLDJEQUFZLENBQUM7UUFDcEMsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztJQUVPLGVBQWU7UUFDbkIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFFLGlCQUFpQixDQUFpQixDQUFDO1FBQ3BHLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBRSx5QkFBeUIsQ0FBaUIsQ0FBQztRQUN0RixJQUFJLENBQUMsZUFBZSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUUsNkJBQTZCLENBQWlCLENBQUM7UUFDL0YsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFFLHlCQUF5QixDQUFpQixDQUFDO1FBQ3JGLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBRSw0QkFBNEIsQ0FBaUIsQ0FBQztRQUM1RixJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUUsd0JBQXdCLENBQXlCLENBQUM7UUFDM0YsSUFBSSxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFFLHFCQUFxQixDQUFpQixDQUFDO1FBQ3BGLElBQUksQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBRSwrQkFBK0IsQ0FBaUIsQ0FBQztRQUNqRyxJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUUsOEJBQThCLENBQWlCLENBQUM7UUFDL0YsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsYUFBYSxDQUFFLHlCQUF5QixDQUFpQixDQUFDO1FBQ2xGLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLGFBQWEsQ0FBRSxzQkFBc0IsQ0FBaUIsQ0FBQztRQUNuRixJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUUseUJBQXlCLENBQWlCLENBQUM7SUFDNUYsQ0FBQztJQUVPLFVBQVU7UUFDZCxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBRSxDQUFDO1FBQ3RFLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFFLENBQUM7UUFDcEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBRSxPQUFPLEVBQUUsQ0FBRSxLQUFLLEVBQUcsRUFBRTtZQUNuRCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsaUJBQWlCLENBQUUsQ0FBQztZQUN0RCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLENBQUM7WUFDM0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFFLE1BQU0sQ0FBRSxDQUFDO1lBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsQ0FBQyxDQUFFLENBQUM7UUFDSixJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFFLE9BQU8sRUFBRSxDQUFFLEtBQUssRUFBRyxFQUFFO1lBQ2xELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxNQUFNLENBQUUsQ0FBQztZQUN4QyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUUsTUFBTSxDQUFFLENBQUM7UUFDbEQsQ0FBQyxDQUFFLENBQUM7SUFDUixDQUFDO0lBRU8sVUFBVSxDQUFFLE9BQWUsRUFBRSxJQUFZO1FBQzdDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFFO1lBQ2YsSUFBSSxFQUFFLE9BQU87WUFDYixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7WUFDckIsTUFBTSxFQUFFLElBQUk7U0FDZixDQUFFLENBQUM7UUFFSixNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBRSxJQUFJLENBQXlCLENBQUM7UUFDdEYsTUFBTSxXQUFXLEdBQUcsZUFBZSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUUsR0FBRyxDQUFpQixDQUFDO1FBRWhGLElBQUssSUFBSSxLQUFLLE1BQU0sRUFBRztZQUNuQixXQUFXLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBRSxhQUFhLENBQUUsQ0FBQztTQUM5QzthQUFNO1lBQ0gsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUUsWUFBWSxDQUFFLENBQUM7U0FDN0M7UUFDRCxXQUFXLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQztRQUNoQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBRSxlQUFlLENBQUMsT0FBTyxDQUFFLENBQUM7UUFDM0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUM7SUFDakUsQ0FBQztJQUVPLFVBQVU7UUFDZCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBRSxNQUFNLENBQUUsQ0FBQztJQUMzRCxDQUFDO0lBRU8sYUFBYTs7UUFDakIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFDbkMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFFLG1DQUFtQyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUUsQ0FBQztRQUNuRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUUscUNBQXFDLEVBQUUsTUFBTSxDQUFDLGVBQWUsQ0FBRSxDQUFDO1FBQ3ZHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBRSw0QkFBNEIsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFFLENBQUM7UUFDMUYsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFFLDhCQUE4QixFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUUsQ0FBQztRQUM5RixJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUUscUNBQXFDLEVBQUUsTUFBTSxDQUFDLG1CQUFtQixDQUFFLENBQUM7UUFDM0csSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFFLG1DQUFtQyxFQUFFLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBRSxDQUFDO1FBQ3ZHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBRSxvQ0FBb0MsRUFBRSxNQUFNLENBQUMsa0JBQWtCLENBQUUsQ0FBQztRQUN6RyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUUsa0NBQWtDLEVBQUUsTUFBTSxDQUFDLGlCQUFpQixDQUFFLENBQUM7UUFDdEcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFFLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxVQUFVLENBQUUsQ0FBQztRQUNoRixVQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBRSxLQUFLLENBQUUsMENBQUUsWUFBWSxDQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBRSxDQUFDO1FBQy9GLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQzVELENBQUM7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3R5cGVpdC1ncHQvLi9zcmMvY2hhdC10ZW1wbGF0ZS5odG1sIiwid2VicGFjazovL3R5cGVpdC1ncHQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdHlwZWl0LWdwdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdHlwZWl0LWdwdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3R5cGVpdC1ncHQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90eXBlaXQtZ3B0Ly4vc3JjL0NoYXRXaWRnZXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kdWxlXG52YXIgY29kZSA9IFwiPGRpdiBpZD1cXFwibm8tYnJhaW5lci1jaGF0XFxcIj5cXG5cXHQ8c3R5bGU+XFxuXFx0XFx0LyogYm90dG9tIGxlZnQgaWNvbiAqL1xcblxcdFxcdDpyb290IHtcXG5cXHRcXHRcXHQtLW5vLWJyYWluZXItZm9udDogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgXFxcIk9wZW4gU2Fuc1xcXCIsIFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsIHNhbnMtc2VyaWY7XFxuXFx0XFx0XFx0LS1uby1icmFpbmVyLWNoYXQtb3BlbmVyLWJnLWNvbG9yOiAjMjAyMTIzO1xcblxcdFxcdFxcdC0tbm8tYnJhaW5lci1jaGF0LW9wZW5lci1maWxsLWNvbG9yOiAjNDEzZTUwO1xcblxcdFxcdFxcdC0tbm8tYnJhaW5lci1jaGF0LWJnLWNvbG9yOiAjMzQzNTQxO1xcblxcdFxcdFxcdC0tbm8tYnJhaW5lci1jaGF0LXRleHQtY29sb3I6ICNmZmY7XFxuXFx0XFx0XFx0LS1uby1icmFpbmVyLWNoYXQtdGV4dGFyZWEtYmctY29sb3I6ICM1MTRmNjA7XFxuXFx0XFx0XFx0LS1uby1icmFpbmVyLWNoYXQtaGVhZGVyLWJnLWNvbG9yOiAjMjAyMTIzO1xcblxcdFxcdFxcdC0tbm8tYnJhaW5lci1jaGF0LWJ1dHRvbnMtYmctY29sb3I6ICM0NzNmNTY7XFxuXFx0XFx0XFx0LS1uby1icmFpbmVyLWNoYXQtdGV4dGFyZWEtY29sb3I6ICNmZmY7XFxuXFx0XFx0XFx0LS1uby1icmFpbmVyLWNoYXQtbG9hZGVyLWNvbG9yOiAjOTg4MGZmO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQjbm8tYnJhaW5lci1jaGF0IHtcXG5cXHRcXHRcXHRmb250LWZhbWlseTogdmFyKC0tbm8tYnJhaW5lci1mb250KTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Lm5vLWJyYWluZXItb3Blbi1jaGF0IHtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uby1icmFpbmVyLWNoYXQtb3BlbmVyLWJnLWNvbG9yKTtcXG5cXHRcXHRcXHRwYWRkaW5nOiAxMHB4O1xcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDUwJTtcXG5cXHRcXHRcXHRwb3NpdGlvbjogZml4ZWQ7XFxuXFx0XFx0XFx0Ym90dG9tOiAyMHB4O1xcblxcdFxcdFxcdGxlZnQ6IDIwcHg7XFxuXFx0XFx0XFx0d2lkdGg6IDMwcHg7XFxuXFx0XFx0XFx0aGVpZ2h0OiAzMHB4O1xcblxcdFxcdFxcdHotaW5kZXg6IDEwMDAwO1xcblxcdFxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMCk7XFxuXFx0XFx0XFx0dHJhbnNmb3JtLW9yaWdpbjogbGVmdCBib3R0b207XFxuXFx0XFx0XFx0dHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZS1pbi1vdXQ7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5uby1icmFpbmVyLW9wZW4tY2hhdCBzdmcge1xcblxcdFxcdFxcdGZpbGw6IHZhcigtLW5vLWJyYWluZXItY2hhdC1vcGVuZXItZmlsbC1jb2xvcik7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5uby1icmFpbmVyLW9wZW4tY2hhdC5zaG93IHtcXG5cXHRcXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDEpO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQubm8tYnJhaW5lci1vcGVuLWNoYXQ6aG92ZXIge1xcblxcdFxcdFxcdGN1cnNvcjogcG9pbnRlcjtcXG5cXHRcXHRcXHRvcGFjaXR5OiAwLjg7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5uby1icmFpbmVyLW9wZW4tY2hhdC5oYXMtbmV3LW1lc3NhZ2Uge1xcblxcdFxcdFxcdGFuaW1hdGlvbjogcmVkLXJpbmcgMXMgaW5maW5pdGU7XFxuXFx0XFx0fVxcblxcblxcdFxcdEBrZXlmcmFtZXMgcmVkLXJpbmcge1xcblxcdFxcdFxcdDAlIHtcXG5cXHRcXHRcXHRcXHRib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjU1LCAwLCAwLCAwLjQpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHQ3MCUge1xcblxcdFxcdFxcdFxcdGJveC1zaGFkb3c6IDAgMCAwIDEwcHggcmdiYSgyNTUsIDAsIDAsIDApO1xcblxcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHQxMDAlIHtcXG5cXHRcXHRcXHRcXHRib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjU1LCAwLCAwLCAwKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcblxcdFxcdC8qIGNoYXQgaGVhZGVyICovXFxuXFx0XFx0LmNoYXQtY29udGFpbmVyIHtcXG5cXHRcXHRcXHRwb3NpdGlvbjogZml4ZWQ7XFxuXFx0XFx0XFx0Ym90dG9tOiAxMHB4O1xcblxcdFxcdFxcdGxlZnQ6IDEwcHg7XFxuXFx0XFx0XFx0bWF4LXdpZHRoOiAzNTBweDtcXG5cXHRcXHRcXHR3aWR0aDogMTAwJTtcXG5cXHRcXHRcXHR6LWluZGV4OiAxMDAwMDtcXG5cXHRcXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDApO1xcblxcdFxcdFxcdHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgYm90dG9tO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjksIDY3LCA4NSwgMC41OSk7XFxuXFx0XFx0XFx0Ym94LXNoYWRvdzogMnB4IDJweCAxMHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XFxuXFx0XFx0XFx0Ym9yZGVyLXJhZGl1czogMTBweDtcXG5cXHRcXHRcXHR0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLWluLW91dDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LmNoYXQtY29udGFpbmVyLnNob3cge1xcblxcdFxcdFxcdGFuaW1hdGlvbjogc2NhbGVJbiAuMTVzIGVhc2UtaW4tb3V0IDBzIDEgbm9ybWFsIGZvcndhcmRzO1xcblxcdFxcdFxcdHRyYW5zZm9ybS1vcmlnaW46IGJvdHRvbSBsZWZ0O1xcblxcdFxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMSk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5jaGF0LWhlYWRlciB7XFxuXFx0XFx0XFx0Ym9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDtcXG5cXHRcXHRcXHRkaXNwbGF5OiBmbGV4O1xcblxcdFxcdFxcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuXFx0XFx0XFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC1oZWFkZXItYmctY29sb3IpO1xcblxcdFxcdFxcdGNvbG9yOiBsaWdodGdyYXk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5hZ2VudC10aXRsZSB7XFxuXFx0XFx0XFx0ZGlzcGxheTogZmxleDtcXG5cXHRcXHRcXHRhbGlnbi1pdGVtczogY2VudGVyO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1hZ2VudC1hdmF0YXIge1xcblxcdFxcdFxcdHdpZHRoOiA1MHB4O1xcblxcdFxcdFxcdGhlaWdodDogNTBweDtcXG5cXHRcXHRcXHRib3JkZXItcmFkaXVzOiA1MCU7XFxuXFx0XFx0XFx0bWFyZ2luOiAxMHB4O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2xvc2Utc3ZnIHtcXG5cXHRcXHRcXHRzdHJva2U6IHZhcigtLW5vLWJyYWluZXItY2hhdC10ZXh0LWNvbG9yKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LmNsb3NlLWNoYXQge1xcblxcdFxcdFxcdHdpZHRoOiAzMHB4O1xcblxcdFxcdFxcdGhlaWdodDogMzBweDtcXG5cXHRcXHRcXHRtYXJnaW4tcmlnaHQ6IDEwcHg7XFxuXFx0XFx0XFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbm8tYnJhaW5lci1jaGF0LWJ1dHRvbnMtYmctY29sb3IpO1xcblxcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDUwJTtcXG5cXHRcXHRcXHRjdXJzb3I6IHBvaW50ZXI7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5jaGF0LWFyZWEge1xcblxcdFxcdFxcdGhlaWdodDogMzAwcHg7XFxuXFx0XFx0XFx0cGFkZGluZzogMWVtIDFlbSAwO1xcblxcdFxcdFxcdG92ZXJmbG93OiBhdXRvO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC1iZy1jb2xvcik7XFxuXFx0XFx0XFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1pbnB1dCB7XFxuXFx0XFx0XFx0Ym9yZGVyLXJhZGl1czogMCAwIDNweCAzcHg7XFxuXFx0XFx0XFx0cGFkZGluZzogMWVtO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5jaGF0LWZvcm0ge1xcblxcdFxcdFxcdGRpc3BsYXk6IGZsZXg7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5jaGF0LWZvcm0gdGV4dGFyZWEge1xcblxcdFxcdFxcdGZsZXg6IDE7XFxuXFx0XFx0XFx0cmVzaXplOiBub25lO1xcblxcdFxcdH1cXG5cXG5cXHRcXHR0ZXh0YXJlYTphY3RpdmUsIHRleHRhcmVhOmZvY3VzIHtcXG5cXHRcXHRcXHRvdXRsaW5lOiBub25lO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtICNjaGF0LXdpZGdldC1zdWJtaXQge1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6ICM0NTQzNTU7XFxuXFx0XFx0XFx0Ym9yZGVyOiBub25lO1xcblxcdFxcdFxcdGNvbG9yOiB2YXIoLS1uby1icmFpbmVyLWNoYXQtdGV4dC1jb2xvcik7XFxuXFx0XFx0XFx0cGFkZGluZzogMWVtO1xcblxcdFxcdFxcdG1hcmdpbjogMDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LmNoYXQtZm9ybSAjY2hhdC13aWRnZXQtc3VibWl0OmhvdmVyIHtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNWE1YTZiO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtICNjaGF0LXdpZGdldC1zdWJtaXQ6YWN0aXZlIHtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDU0MzU1O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtICNjaGF0LXdpZGdldC1zdWJtaXQ6Zm9jdXMge1xcblxcdFxcdFxcdG91dGxpbmU6IG5vbmU7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8qIGNoYXIgYXJlYSAqL1xcblxcdFxcdC5jaGF0LWFyZWEge1xcblxcdFxcdFxcdGhlaWdodDogMzAwcHg7XFxuXFx0XFx0XFx0cGFkZGluZzogMWVtIDFlbSAwO1xcblxcdFxcdFxcdG92ZXJmbG93OiBhdXRvO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC1iZy1jb2xvcik7XFxuXFx0XFx0XFx0cG9zaXRpb246IHJlbGF0aXZlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvKiBjaGF0IGlucHV0ICovXFxuXFx0XFx0LmNoYXQtaW5wdXQge1xcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDAgMCAzcHggM3B4O1xcblxcdFxcdFxcdHBhZGRpbmc6IDFlbTtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1uby1icmFpbmVyLWNoYXQtYmctY29sb3IpO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtIHtcXG5cXHRcXHRcXHRkaXNwbGF5OiBmbGV4O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtIHRleHRhcmVhIHtcXG5cXHRcXHRcXHRmbGV4OiAxO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC10ZXh0YXJlYS1iZy1jb2xvcik7XFxuXFx0XFx0XFx0Y29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC10ZXh0YXJlYS1jb2xvcik7XFxuXFx0XFx0XFx0Ym9yZGVyLXJhZGl1czogM3B4IDAgMCAzcHg7XFxuXFx0XFx0fVxcblxcblxcdFxcdHRleHRhcmVhOmFjdGl2ZSwgdGV4dGFyZWE6Zm9jdXMge1xcblxcdFxcdFxcdG91dGxpbmU6IG5vbmU7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5jaGF0LWZvcm0gYnV0dG9uIHtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDU0MzU1O1xcblxcdFxcdFxcdGJvcmRlcjogbm9uZTtcXG5cXHRcXHRcXHRjb2xvcjogd2hpdGU7XFxuXFx0XFx0XFx0cGFkZGluZzogMWVtO1xcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDAgM3B4IDNweCAwO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtIGJ1dHRvbjpob3ZlciB7XFxuXFx0XFx0XFx0YmFja2dyb3VuZC1jb2xvcjogIzVhNWE2YjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LmNoYXQtZm9ybSBidXR0b246YWN0aXZlIHtcXG5cXHRcXHRcXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNDU0MzU1O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuY2hhdC1mb3JtIGJ1dHRvbjpmb2N1cyB7XFxuXFx0XFx0XFx0b3V0bGluZTogbm9uZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LyogbG9hZGVyICovXFxuXFx0XFx0LmRvdC1lbGFzdGljIHtcXG5cXHRcXHRcXHR3aWR0aDogMTBweDtcXG5cXHRcXHRcXHRoZWlnaHQ6IDEwcHg7XFxuXFx0XFx0XFx0Ym9yZGVyLXJhZGl1czogNTAlO1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC1sb2FkZXItY29sb3IpO1xcblxcdFxcdFxcdGxlZnQ6IDMwcHg7XFxuXFx0XFx0XFx0cG9zaXRpb246IGFic29sdXRlO1xcblxcdFxcdFxcdGFuaW1hdGlvbjogZG90LWVsYXN0aWMgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuXFx0XFx0XFx0ZGlzcGxheTogbm9uZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0LmRvdC1lbGFzdGljLnNob3cge1xcblxcdFxcdFxcdGRpc3BsYXk6IGJsb2NrO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuZG90LWVsYXN0aWM6YmVmb3JlLCAuZG90LWVsYXN0aWM6YWZ0ZXIge1xcblxcdFxcdFxcdGNvbnRlbnQ6IFxcXCJcXFwiO1xcblxcdFxcdFxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cXHRcXHRcXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuXFx0XFx0XFx0dG9wOiAwO1xcblxcdFxcdFxcdGhlaWdodDogMTBweDtcXG5cXHRcXHRcXHR3aWR0aDogMTBweDtcXG5cXHRcXHRcXHRib3JkZXItcmFkaXVzOiA1MCU7XFxuXFx0XFx0XFx0YmFja2dyb3VuZC1jb2xvcjogIzk4ODBmZjtcXG5cXHRcXHRcXHRhbmltYXRpb246IGRvdC1lbGFzdGljIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuZG90LWVsYXN0aWM6YmVmb3JlIHtcXG5cXHRcXHRcXHRsZWZ0OiAtMTVweDtcXG5cXHRcXHRcXHRhbmltYXRpb24tZGVsYXk6IC0wLjVzO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQuZG90LWVsYXN0aWM6YWZ0ZXIge1xcblxcdFxcdFxcdGxlZnQ6IDE1cHg7XFxuXFx0XFx0XFx0YW5pbWF0aW9uLWRlbGF5OiAwLjVzO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRAa2V5ZnJhbWVzIGRvdC1lbGFzdGljIHtcXG5cXHRcXHRcXHQwJSB7XFxuXFx0XFx0XFx0XFx0dHJhbnNmb3JtOiBzY2FsZSgxLCAxKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0MjUlIHtcXG5cXHRcXHRcXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDEsIDEpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHQ1MCUge1xcblxcdFxcdFxcdFxcdHRyYW5zZm9ybTogc2NhbGUoMSwgMS41KTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0NzUlIHtcXG5cXHRcXHRcXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDEsIDEpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHQxMDAlIHtcXG5cXHRcXHRcXHRcXHR0cmFuc2Zvcm06IHNjYWxlKDEsIDEpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0LyogY2hhdCBoaXN0b3J5ICovXFxuXFx0XFx0Lm1lc3NhZ2UtaGlzdG9yeSB7XFxuXFx0XFx0XFx0ZGlzcGxheTogZmxleDtcXG5cXHRcXHRcXHRmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQubWVzc2FnZSB7XFxuXFx0XFx0XFx0d2lkdGg6IGZpdC1jb250ZW50O1xcblxcdFxcdFxcdGNvbG9yOiB3aGl0ZTtcXG5cXHRcXHRcXHRib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAxMHB4O1xcblxcdFxcdFxcdHBhZGRpbmc6IC41ZW07XFxuXFx0XFx0XFx0d2hpdGUtc3BhY2U6IHByZS13cmFwO1xcblxcdFxcdFxcdGJhY2tncm91bmQ6IHZhcigtLW5vLWJyYWluZXItY2hhdC10ZXh0YXJlYS1iZy1jb2xvcik7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5tZXNzYWdlLW91dCB7XFxuXFx0XFx0XFx0YWxpZ24tc2VsZjogZW5kO1xcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDEwcHg7XFxuXFx0XFx0fVxcblxcblxcdFxcdC5tZXNzYWdlLWluIHtcXG5cXHRcXHRcXHRhbGlnbi1zZWxmOiBzdGFydDtcXG5cXHRcXHRcXHRib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMTBweCAwO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQubm8tYnJhaW5lci1mZWVkYmFjay53YXJuaW5nIHtcXG5cXHRcXHRcXHRjb2xvcjogI2ZmOWY0MztcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Lm5vLWJyYWluZXItZmVlZGJhY2suZXJyb3Ige1xcblxcdFxcdFxcdGNvbG9yOiAjZmYzODYwO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQjbm8tYnJhaW5lci1jaGF0LXNjcm9sbCB7XFxuXFx0XFx0XFx0LyphZGp1c3QgdGhlIHNjcm9sbCBiYXIgd2lkdGggYW5kIHN0eWxlKi9cXG5cXHRcXHRcXHRzY3JvbGxiYXItd2lkdGg6IHRoaW47XFxuXFx0XFx0XFx0c2Nyb2xsYmFyLWNvbG9yOiB2YXIoLS1uby1icmFpbmVyLWNoYXQtaGVhZGVyLWJnLWNvbG9yKSB2YXIoLS1uby1icmFpbmVyLWNoYXQtYmctY29sb3IpO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQjbm8tYnJhaW5lci1jaGF0LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXIge1xcblxcdFxcdFxcdHdpZHRoOiAxMHB4O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQjbm8tYnJhaW5lci1jaGF0LXNjcm9sbDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcblxcdFxcdFxcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLW5vLWJyYWluZXItY2hhdC1oZWFkZXItYmctY29sb3IpO1xcblxcdFxcdFxcdGJvcmRlci1yYWRpdXM6IDIwcHg7XFxuXFx0XFx0XFx0Ym9yZGVyOiAzcHggc29saWQgdmFyKC0tbm8tYnJhaW5lci1jaGF0LWhlYWRlci1iZy1jb2xvcik7XFxuXFx0XFx0fVxcblxcblxcdFxcdCNuby1icmFpbmVyLWNoYXQtc2Nyb2xsOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XFxuXFx0XFx0XFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbm8tYnJhaW5lci1jaGF0LWJnLWNvbG9yKTtcXG5cXHRcXHR9XFxuXFxuXFx0PC9zdHlsZT5cXG5cXHQ8ZGl2IGNsYXNzPVxcXCJuby1icmFpbmVyLW9wZW4tY2hhdCBzaG93XFxcIiBpZD1cXFwibm8tYnJhaW5lci1jaGF0LW9wZW5lclxcXCI+XFxuXFx0XFx0PGRpdj5cXG5cXHRcXHRcXHQ8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDEwMDAgMTAwMFxcXCI+XFxuXFx0XFx0XFx0XFx0PHBhdGggc3Ryb2tlPVxcXCJ3aGl0ZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIzMHB4XFxcIlxcblxcdFxcdFxcdFxcdFxcdCAgZD1cXFwiTTg5OS4zIDE3MS40bC0xLjcgMjk0LjhzLTQuOSAxNTkuNy0xNzYuMiAxNTkuN0g0ODFMMzczLjkgNzM2LjNsMTc2LjIgMS42IDI0Mi4xIDI1MC4zIDguMy0yNTYuOXMxODkuNCAxMy4yIDE4OS40LTE1NC44VjMyNy44czguMi0xMDAuMy05MC42LTE1Ni40ek02OTAuMSA1ODQuOGM4Ny4zIDAgMTU4LjEtNzAuOCAxNTguMS0xNTguMVYxNjkuOGMwLTg3LjMtNzAuOC0xNTguMS0xNTguMS0xNTguMWgtNTIyQzgwLjggMTEuNyAxMCA4Mi41IDEwIDE2OS44djI1Ni45YzAgODcuMyA3MC44IDE1OC4xIDE1OC4xIDE1OC4xaDEzLjNsMS42IDIzMy45IDI2MS4yLTIzMy45aDI0NS45elxcXCIvPlxcblxcdFxcdFxcdDwvc3ZnPlxcblxcdFxcdDwvZGl2PlxcblxcdDwvZGl2PlxcblxcdDxkaXYgaWQ9XFxcIm5vLWJyYWluZXItY2hhdC1jb250YWluZXJcXFwiIGNsYXNzPVxcXCJjaGF0LWNvbnRhaW5lclxcXCI+XFxuXFx0XFx0PGRpdiBjbGFzcz1cXFwiY2hhdC13aW5kb3dcXFwiPlxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XFxcImNoYXQtaGVhZGVyXFxcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJhZ2VudC10aXRsZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PGltZyBhbHQ9XFxcImF2YXRhclxcXCJcXG5cXHRcXHRcXHRcXHRcXHRcXHQgc3JjPVxcXCJodHRwczovL3JvYm9oYXNoLm9yZy9zdGVmYW4tdGhyZWVcXFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0IGNsYXNzPVxcXCJjaGF0LWFnZW50LWF2YXRhclxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PGgzIGlkPVxcXCJuby1icmFpbmVyLWNoYXQtYWdlbnQtbmFtZVxcXCIgY2xhc3M9XFxcImhlYWRsaW5lIHBsLTQgbS0wXFxcIj5TdXBwb3J0PC9oMz5cXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVxcXCJjbG9zZS1jaGF0XFxcIiBpZD1cXFwibm8tYnJhaW5lci1jaGF0LWNsb3NlclxcXCI+XFxuXFxuXFx0XFx0XFx0XFx0XFx0PHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIwLjRcXFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0IGNsYXNzPVxcXCJjbG9zZS1zdmdcXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxwYXRoIGZpbGw9XFxcImJsYWNrXFxcIiBzdHJva2UtbGluZWNhcD1cXFwicm91bmRcXFwiIHN0cm9rZS1saW5lam9pbj1cXFwicm91bmRcXFwiIGQ9XFxcIk02IDE4TDE4IDZNNiA2bDEyIDEyXFxcIi8+XFxuXFx0XFx0XFx0XFx0XFx0PC9zdmc+XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiY2hhdC1hcmVhXFxcIiBpZD1cXFwibm8tYnJhaW5lci1jaGF0LXNjcm9sbFxcXCI+XFxuXFx0XFx0XFx0XFx0PGRpdiBpZD1cXFwiY2hhdC13aWRnZXQtbWVzc2FnZS1jb250YWluZXJcXFwiIGNsYXNzPVxcXCJtZXNzYWdlLWhpc3RvcnlcXFwiPlxcblxcdFxcdFxcdFxcdFxcdDx0ZW1wbGF0ZSBpZD1cXFwiY2hhdC13aWRnZXQtbWVzc2FnZS10ZW1wbGF0ZVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PHAgY2xhc3M9XFxcIm1lc3NhZ2UgbWVzc2FnZS1vdXRcXFwiPjwvcD5cXG5cXHRcXHRcXHRcXHRcXHQ8L3RlbXBsYXRlPlxcblxcdFxcdFxcdFxcdFxcdDxkaXYgaWQ9XFxcImNoYXQtd2lkZ2V0LW1lc3NhZ2UtaGlzdG9yeVxcXCIgY2xhc3M9XFxcIm1lc3NhZ2UtaGlzdG9yeVxcXCI+PC9kaXY+XFxuXFxuXFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwibm8tYnJhaW5lci1mZWVkYmFjayBlcnJvclxcXCIgaWQ9XFxcIm5vLWJyYWluZXItZmVlZGJhY2tcXFwiPjwvZGl2PlxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdDxkaXYgaWQ9XFxcIm5vLWJyYWluZXItY2hhdC1sb2FkZXJcXFwiIGNsYXNzPVxcXCJkb3QtZWxhc3RpY1xcXCI+PC9kaXY+XFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cXFwiY2hhdC1pbnB1dFxcXCI+XFxuXFx0XFx0XFx0XFx0PGZvcm0gY2xhc3M9XFxcImNoYXQtZm9ybVxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0PGxhYmVsIGZvcj1cXFwiY2hhdC13aWRnZXQtdGV4dC1hcmVhXFxcIj48L2xhYmVsPlxcblxcdFxcdFxcdFxcdFxcdDx0ZXh0YXJlYSBpZD1cXFwiY2hhdC13aWRnZXQtdGV4dC1hcmVhXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7Ym9yZGVyOiBub25lOyBwYWRkaW5nOiA1cHhcXFwiPjwvdGV4dGFyZWE+XFxuXFx0XFx0XFx0XFx0XFx0PGJ1dHRvbiBpZD1cXFwiY2hhdC13aWRnZXQtc3VibWl0XFxcIiBjbGFzcz1cXFwic3VibWl0XFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdDxzdmcgc3R5bGU9XFxcIndpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHhcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdCBzdHJva2Utd2lkdGg9XFxcIjEuNVxcXCIgc3Ryb2tlPVxcXCJjdXJyZW50Q29sb3JcXFwiIGNsYXNzPVxcXCJ3LTYgaC02XFxcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQ8cGF0aCBzdHJva2UtbGluZWNhcD1cXFwicm91bmRcXFwiIHN0cm9rZS1saW5lam9pbj1cXFwicm91bmRcXFwiXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ICBkPVxcXCJNNiAxMkwzLjI2OSAzLjEyNkE1OS43NjggNTkuNzY4IDAgMDEyMS40ODUgMTIgNTkuNzcgNTkuNzcgMCAwMTMuMjcgMjAuODc2TDUuOTk5IDEyem0wIDBoNy41XFxcIi8+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PC9zdmc+XFxuXFx0XFx0XFx0XFx0XFx0PC9idXR0b24+XFxuXFx0XFx0XFx0XFx0PC9mb3JtPlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdDwvZGl2PlxcblxcdDwvZGl2PlxcbjwvZGl2PlxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCBjaGF0VGVtcGxhdGUgZnJvbSAnLi9jaGF0LXRlbXBsYXRlLmh0bWwnO1xuXG5pbnRlcmZhY2UgTWVzc2FnZUhpc3Rvcnkge1xuICAgIGJvZHk6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IERhdGU7XG4gICAgYXV0aG9yOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIENoYXRXaWRnZXRPcHRpb25zID0ge1xuICAgIGFuc3dlcjogKCBtZXNzYWdlOiBzdHJpbmcgKSA9PiBQcm9taXNlPHN0cmluZz47XG4gICAgdmFsaWRhdGU6ICggbWVzc2FnZTogc3RyaW5nICkgPT4gQXJyYXk8c3RyaW5nPjtcbiAgICBvbklucHV0OiAoIG1lc3NhZ2U6IHN0cmluZyApID0+IEFycmF5PHN0cmluZz47XG4gICAgYWdlbnROYW1lOiBzdHJpbmc7XG5cbiAgICBhZ2VudEF2YXRhclVybDogc3RyaW5nO1xuXG4gICAgc3R5bGVzOiB7XG4gICAgICAgIG9wZW5lckJnQ29sb3I6IHN0cmluZztcbiAgICAgICAgb3BlbmVyRmlsbENvbG9yOiBzdHJpbmc7XG4gICAgICAgIGNoYXRCZ0NvbG9yOiBzdHJpbmc7XG4gICAgICAgIGNoYXRUZXh0Q29sb3I6IHN0cmluZztcbiAgICAgICAgY2hhdFRleHRhcmVhQmdDb2xvcjogc3RyaW5nO1xuICAgICAgICBjaGF0SGVhZGVyQmdDb2xvcjogc3RyaW5nO1xuICAgICAgICBjaGF0QnV0dG9uc0JnQ29sb3I6IHN0cmluZztcbiAgICAgICAgY2hhdFRleHRhcmVhQ29sb3I6IHN0cmluZztcbiAgICAgICAgZm9udEZhbWlseTogc3RyaW5nO1xuICAgICAgICBsb2FkZXJDb2xvcjogc3RyaW5nO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IENoYXRXaWRnZXRPcHRpb25zID0ge1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciBzdWJtaXRzIGEgbWVzc2FnZSxcbiAgICAgKiBpdCBzaG91bGQgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGFuc3dlclxuICAgICAqL1xuICAgIGFuc3dlcjogKCBtZXNzYWdlOiBzdHJpbmcgKSA9PiBuZXcgUHJvbWlzZSggKCByZXNvbHZlICkgPT5cbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4gcmVzb2x2ZSggJ0dvZCBkb2VzIG5vdCBwbGF5IGRpY2Ugd2l0aCB0aGUgdW5pdmVyc2UuJyApLCAzMDAwICkgKSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIHVzZXIgc3VibWl0cyBhIG1lc3NhZ2UsXG4gICAgICogaWYgaXQgcmV0dXJucyBhbiBhcnJheSBvZiBlcnJvcnMsIHRoZSBlcnJvcnMgd2lsbCBiZSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIsXG4gICAgICovXG4gICAgdmFsaWRhdGU6ICggbWVzc2FnZTogc3RyaW5nICkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgaWYgKCBtZXNzYWdlLmxlbmd0aCA8IDMgKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCggJ01lc3NhZ2UgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZycgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggbWVzc2FnZS5sZW5ndGggPiA1MTIgKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaCggJ01lc3NhZ2UgbXVzdCBiZSBhdCBtb3N0IDEwMDAgY2hhcmFjdGVycyBsb25nJyApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGEga2V5IGluIHRoZSB0ZXh0YXJlYSBmaWVsZFxuICAgICAqIGlmIGl0IHJldHVybnMgYW4gYXJyYXkgb2Ygd2FybmluZ3MsIHRoZSB3YXJuaW5ncyB3aWxsIGJlIGRpc3BsYXllZCB0byB0aGUgdXNlclxuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICovXG4gICAgb25JbnB1dDogKCBtZXNzYWdlOiBzdHJpbmcgKSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIG1lc3NhZ2UgaW5jbHVkZXMgc2VsZWN0LCBpbnNlcnQsIHVwZGF0ZSwgZGVsZXRlLCBkcm9wLCB0cnVuY2F0ZSwgYWx0ZXIsIGNyZWF0ZSwgb3IgZ3JhbnRcbiAgICAgICAgY29uc3Qgc3FsSW5qZWN0aW9uUmVnZXggPSAvc2VsZWN0fGluc2VydHx1cGRhdGV8ZGVsZXRlfGRyb3B8dHJ1bmNhdGV8YWx0ZXJ8Y3JlYXRlfGdyYW50L2k7XG4gICAgICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgICAgIGlmICggc3FsSW5qZWN0aW9uUmVnZXgudGVzdCggbWVzc2FnZSApICkge1xuICAgICAgICAgICAgd2FybmluZ3MucHVzaCggJ1NRTCBJbmplY3Rpb24gZGV0ZWN0ZWQnICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhcm5pbmdzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgYmUgZGlzcGxheWVkIG9uIHRoZSBjaGF0IGhlYWRlclxuICAgICAqL1xuICAgIGFnZW50TmFtZTogJ1N1cHBvcnQnLFxuXG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGJlIGRpc3BsYXllZCBhcyB0aGUgYXZhdGFyIG9mIHRoZSBhZ2VudCBvbiB0aGUgY2hhdCBoZWFkZXJcbiAgICAgKi9cbiAgICBhZ2VudEF2YXRhclVybDogJ2h0dHBzOi8vY29kZS1mb3ItbWUuY29tL2J1aWxkL2ltYWdlcy9sb2dvLWNvZGUtbWQuc3ZnJyxcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZXMgb2YgdGhlIGNoYXQgd2lkZ2V0XG4gICAgICogYWxsIG90aGVyIHN0eWxlcyBjYW4gYmUgY2hhbmdlZCBieSByZWRlZmluaW5nIHRoZSBjc3MgY2xhc3Nlc1xuICAgICAqL1xuICAgIHN0eWxlczoge1xuICAgICAgICBvcGVuZXJCZ0NvbG9yOiAnIzIwMjEyMycsXG4gICAgICAgIG9wZW5lckZpbGxDb2xvcjogJyM0MTNlNTAnLFxuICAgICAgICBjaGF0QmdDb2xvcjogJyMzNDM1NDEnLFxuICAgICAgICBjaGF0VGV4dENvbG9yOiAnI2ZmZicsXG4gICAgICAgIGNoYXRUZXh0YXJlYUJnQ29sb3I6ICcjNTE0ZjYwJyxcbiAgICAgICAgY2hhdEhlYWRlckJnQ29sb3I6ICcjMjAyMTIzJyxcbiAgICAgICAgY2hhdEJ1dHRvbnNCZ0NvbG9yOiAnIzQ3M2Y1NicsXG4gICAgICAgIGNoYXRUZXh0YXJlYUNvbG9yOiAnI2ZmZicsXG4gICAgICAgIGxvYWRlckNvbG9yOiAnIzk4ODBmZicsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsIFwiT3BlbiBTYW5zXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZicsXG4gICAgfVxufTtcblxuLyoqXG4gKiBObyBCcmFpbmVyIENoYXQgV2lkZ2V0XG4gKiBBIHNpbXBsZSBjaGF0IHdpZGdldCB0aGF0IHdvcmtzIG91dCBvZiB0aGUgYm94XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXRXaWRnZXQge1xuICAgIHByaXZhdGUgc3VibWl0QnV0dG9uITogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBtZXNzYWdlVGVtcGxhdGUhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIG1lc3NhZ2VIaXN0b3J5ITogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBoaXN0b3J5OiBBcnJheTxNZXNzYWdlSGlzdG9yeT4gPSBbXTtcbiAgICBwcml2YXRlIHRleHRBcmVhITogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICBwcml2YXRlIGNoYXRPcGVuZXIhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGNoYXRDb250YWluZXIhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGNoYXRDbG9zZSE6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgb3V0ZXJDb250YWluZXIhOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGxvYWRlciE6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBvcHRpb25zOiBDaGF0V2lkZ2V0T3B0aW9ucztcbiAgICBwcml2YXRlIGNoYXRBZ2VudE5hbWVFbCE6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgZmVlZGJhY2tFbCE6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgY2hhdFNjcm9sbEVsITogSFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvciggb3B0aW9uczogQ2hhdFdpZGdldE9wdGlvbnMgfCB7fSA9IGRlZmF1bHRPcHRpb25zICkge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgICAgIGlmICggJ3N0eWxlcycgaW4gb3B0aW9ucyApIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zdHlsZXMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLnN0eWxlcywgLi4ub3B0aW9ucy5zdHlsZXMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMuY3JlYXRlQ2hhdFdpZGdldCgpICk7XG4gICAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzKCk7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKCBvcHRpb25zOiBDaGF0V2lkZ2V0T3B0aW9ucyB8IHt9ID0gZGVmYXVsdE9wdGlvbnMgKTogQ2hhdFdpZGdldCB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhdFdpZGdldCggb3B0aW9ucyApO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMub3V0ZXJDb250YWluZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzZW5kIGEgbWVzc2FnZSB0byB0aGUgdXNlci5cbiAgICAgKiB5b3UgY2FuIHVzZSB0aGlzIG9yIHRoZSBhbnN3ZXIgZnVuY3Rpb24gaXMgZmlyZWQgd2hlbiB0aGUgdXNlciBzdWJtaXRzIGEgbWVzc2FnZVxuICAgICAqL1xuICAgIHNlbmRUb1VzZXIoIG1lc3NhZ2U6IHN0cmluZyApOiBDaGF0V2lkZ2V0IHtcbiAgICAgICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3Nob3cnICk7XG4gICAgICAgIGlmICggIXRoaXMuaXNDaGF0T3BlbigpICkge1xuICAgICAgICAgICAgdGhpcy5jaGF0T3BlbmVyLmNsYXNzTGlzdC5hZGQoICdoYXMtbmV3LW1lc3NhZ2UnICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRNZXNzYWdlKCBtZXNzYWdlLCB0aGlzLm9wdGlvbnMuYWdlbnROYW1lICk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNob3coKTogQ2hhdFdpZGdldCB7XG4gICAgICAgIHRoaXMuY2hhdE9wZW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcbiAgICAgICAgdGhpcy5jaGF0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xuICAgICAgICB0aGlzLmNoYXRPcGVuZXIuY2xhc3NMaXN0LnJlbW92ZSggJ2hhcy1uZXctbWVzc2FnZScgKTtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBoaWRlKCk6IENoYXRXaWRnZXQge1xuICAgICAgICB0aGlzLmNoYXRPcGVuZXIuY2xhc3NMaXN0LmFkZCggJ3Nob3cnICk7XG4gICAgICAgIHRoaXMuY2hhdENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2VuZCggZXZlbnQ6IEV2ZW50ICk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IHdhcm5pbmdzID0gdGhpcy5vcHRpb25zLm9uSW5wdXQoIHRoaXMudGV4dEFyZWEudmFsdWUgKTtcbiAgICAgICAgaWYgKCB3YXJuaW5ncy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja0VsLmlubmVySFRNTCA9IHdhcm5pbmdzLmpvaW4oICc8YnI+JyApO1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja0VsLmNsYXNzTGlzdC5hZGQoICd3YXJuaW5nJyApO1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja0VsLmNsYXNzTGlzdC5yZW1vdmUoICdlcnJvcicgKTtcbiAgICAgICAgICAgIHRoaXMuY2hhdFNjcm9sbEVsLnNjcm9sbFRvcCA9IHRoaXMuY2hhdFNjcm9sbEVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmICggZXZlbnQgYXMgS2V5Ym9hcmRFdmVudCApLmtleSAhPT0gJ0VudGVyJyApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmICggZXZlbnQgYXMgS2V5Ym9hcmRFdmVudCApLnNoaWZ0S2V5ICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LmFkZCggJ3Nob3cnICk7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy50ZXh0QXJlYS52YWx1ZTtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMub3B0aW9ucy52YWxpZGF0ZSggbWVzc2FnZSApO1xuICAgICAgICBpZiAoIGVycm9ycy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3Nob3cnICk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrRWwuY2xhc3NMaXN0LnJlbW92ZSggJ3dhcm5pbmcnICk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrRWwuaW5uZXJIVE1MID0gZXJyb3JzLmpvaW4oICc8YnI+JyApO1xuICAgICAgICAgICAgdGhpcy5mZWVkYmFja0VsLmNsYXNzTGlzdC5hZGQoICdlcnJvcicgKTtcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWEudmFsdWUgPSBtZXNzYWdlO1xuICAgICAgICAgICAgdGhpcy5jaGF0U2Nyb2xsRWwuc2Nyb2xsVG9wID0gdGhpcy5jaGF0U2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mZWVkYmFja0VsLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmZlZWRiYWNrRWwuY2xhc3NMaXN0LnJlbW92ZSggJ2Vycm9yJyApO1xuICAgICAgICB0aGlzLmZlZWRiYWNrRWwuY2xhc3NMaXN0LnJlbW92ZSggJ3dhcm5pbmcnICk7XG5cbiAgICAgICAgdGhpcy5hZGRNZXNzYWdlKCBtZXNzYWdlLCAndXNlcicgKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMuYW5zd2VyKCBtZXNzYWdlICkudGhlbiggKCBhbnN3ZXI6IHN0cmluZyApID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkTWVzc2FnZSggYW5zd2VyLCB0aGlzLm9wdGlvbnMuYWdlbnROYW1lICk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcbiAgICAgICAgICAgIGlmICggIXRoaXMuaXNDaGF0T3BlbigpICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhdE9wZW5lci5jbGFzc0xpc3QuYWRkKCAnaGFzLW5ldy1tZXNzYWdlJyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDaGF0V2lkZ2V0KCkge1xuICAgICAgICBjb25zdCBjaGF0V2lkZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcbiAgICAgICAgY2hhdFdpZGdldC5pbm5lckhUTUwgPSBjaGF0VGVtcGxhdGU7XG4gICAgICAgIHJldHVybiBjaGF0V2lkZ2V0O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29sbGVjdEVsZW1lbnRzKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLm91dGVyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICduby1icmFpbmVyLWNoYXQnICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2hhdE9wZW5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnI25vLWJyYWluZXItY2hhdC1vcGVuZXInICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2hhdEFnZW50TmFtZUVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcjbm8tYnJhaW5lci1jaGF0LWFnZW50LW5hbWUnICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2hhdENsb3NlID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcjbm8tYnJhaW5lci1jaGF0LWNsb3NlcicgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy5jaGF0Q29udGFpbmVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcjbm8tYnJhaW5lci1jaGF0LWNvbnRhaW5lcicgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy50ZXh0QXJlYSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnI2NoYXQtd2lkZ2V0LXRleHQtYXJlYScgKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnI2NoYXQtd2lkZ2V0LXN1Ym1pdCcgKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgdGhpcy5tZXNzYWdlVGVtcGxhdGUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvciggJyNjaGF0LXdpZGdldC1tZXNzYWdlLXRlbXBsYXRlJyApIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLm1lc3NhZ2VIaXN0b3J5ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcjY2hhdC13aWRnZXQtbWVzc2FnZS1oaXN0b3J5JyApIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLmxvYWRlciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnI25vLWJyYWluZXItY2hhdC1sb2FkZXInICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZmVlZGJhY2tFbCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnI25vLWJyYWluZXItZmVlZGJhY2snICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2hhdFNjcm9sbEVsID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcjbm8tYnJhaW5lci1jaGF0LXNjcm9sbCcgKSBhcyBIVE1MRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIHRoaXMuc2VuZC5iaW5kKCB0aGlzICkgKTtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIHRoaXMuc2VuZC5iaW5kKCB0aGlzICkgKTtcbiAgICAgICAgdGhpcy5jaGF0T3BlbmVyLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICggZXZlbnQgKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYXRPcGVuZXIuY2xhc3NMaXN0LnJlbW92ZSggJ2hhcy1uZXctbWVzc2FnZScgKTtcbiAgICAgICAgICAgIHRoaXMuY2hhdE9wZW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcbiAgICAgICAgICAgIHRoaXMuY2hhdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAnc2hvdycgKTtcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWEuZm9jdXMoKTtcbiAgICAgICAgfSApO1xuICAgICAgICB0aGlzLmNoYXRDbG9zZS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoIGV2ZW50ICkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGF0T3BlbmVyLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xuICAgICAgICAgICAgdGhpcy5jaGF0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xuICAgICAgICB9ICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRNZXNzYWdlKCBtZXNzYWdlOiBzdHJpbmcsIHVzZXI6IHN0cmluZyApIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goIHtcbiAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBhdXRob3I6IHVzZXJcbiAgICAgICAgfSApO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZW1wbGF0ZSA9IHRoaXMubWVzc2FnZVRlbXBsYXRlLmNsb25lTm9kZSggdHJ1ZSApIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VCb2R5ID0gbWVzc2FnZVRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvciggJ3AnICkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKCB1c2VyID09PSAndXNlcicgKSB7XG4gICAgICAgICAgICBtZXNzYWdlQm9keS5jbGFzc0xpc3QuYWRkKCAnbWVzc2FnZS1vdXQnICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlQm9keS5jbGFzc0xpc3QuYWRkKCAnbWVzc2FnZS1pbicgKTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlQm9keS5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLm1lc3NhZ2VIaXN0b3J5LmFwcGVuZENoaWxkKCBtZXNzYWdlVGVtcGxhdGUuY29udGVudCApO1xuICAgICAgICB0aGlzLmNoYXRTY3JvbGxFbC5zY3JvbGxUb3AgPSB0aGlzLmNoYXRTY3JvbGxFbC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0NoYXRPcGVuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGF0Q29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyggJ3Nob3cnICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRQcm9wZXJ0aWVzKCkge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB0aGlzLm9wdGlvbnMuc3R5bGVzO1xuICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCAnLS1uby1icmFpbmVyLWNoYXQtb3BlbmVyLWJnLWNvbG9yJywgc3R5bGVzLm9wZW5lckJnQ29sb3IgKTtcbiAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSggJy0tbm8tYnJhaW5lci1jaGF0LW9wZW5lci1maWxsLWNvbG9yJywgc3R5bGVzLm9wZW5lckZpbGxDb2xvciApO1xuICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCAnLS1uby1icmFpbmVyLWNoYXQtYmctY29sb3InLCBzdHlsZXMuY2hhdEJnQ29sb3IgKTtcbiAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSggJy0tbm8tYnJhaW5lci1jaGF0LXRleHQtY29sb3InLCBzdHlsZXMuY2hhdFRleHRDb2xvciApO1xuICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCAnLS1uby1icmFpbmVyLWNoYXQtdGV4dGFyZWEtYmctY29sb3InLCBzdHlsZXMuY2hhdFRleHRhcmVhQmdDb2xvciApO1xuICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCAnLS1uby1icmFpbmVyLWNoYXQtaGVhZGVyLWJnLWNvbG9yJywgc3R5bGVzLmNoYXRIZWFkZXJCZ0NvbG9yICk7XG4gICAgICAgIHRoaXMub3V0ZXJDb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoICctLW5vLWJyYWluZXItY2hhdC1idXR0b25zLWJnLWNvbG9yJywgc3R5bGVzLmNoYXRCdXR0b25zQmdDb2xvciApO1xuICAgICAgICB0aGlzLm91dGVyQ29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCAnLS1uby1icmFpbmVyLWNoYXQtdGV4dGFyZWEtY29sb3InLCBzdHlsZXMuY2hhdFRleHRhcmVhQ29sb3IgKTtcbiAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSggJy0tbm8tYnJhaW5lci1mb250Jywgc3R5bGVzLmZvbnRGYW1pbHkgKTtcbiAgICAgICAgdGhpcy5vdXRlckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnaW1nJyApPy5zZXRBdHRyaWJ1dGUoICdzcmMnLCB0aGlzLm9wdGlvbnMuYWdlbnRBdmF0YXJVcmwgKTtcbiAgICAgICAgdGhpcy5jaGF0QWdlbnROYW1lRWwuaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmFnZW50TmFtZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=